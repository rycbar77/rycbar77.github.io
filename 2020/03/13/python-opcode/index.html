<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="把python的opcode在这里记录，便于查表">
<meta property="og:type" content="article">
<meta property="og:title" content="python_opcode">
<meta property="og:url" content="http://blog.rycbar.club/2020/03/13/python-opcode/index.html">
<meta property="og:site_name" content="rr&#39;s blog">
<meta property="og:description" content="把python的opcode在这里记录，便于查表">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-03-13T03:58:03.000Z">
<meta property="article:modified_time" content="2020-03-24T02:50:09.392Z">
<meta property="article:author" content="Aorui Zhang">
<meta property="article:tag" content="查表">
<meta property="article:tag" content="python">
<meta property="article:tag" content="opcode">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>python_opcode</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="rr&#39;s blog" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/atom.xml">RSS</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2020/03/16/b01lersCTF-2020-wp/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2020/03/12/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-re%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3%EF%BC%88%E4%BA%94%EF%BC%89/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://blog.rycbar.club/2020/03/13/python-opcode/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://blog.rycbar.club/2020/03/13/python-opcode/&text=python_opcode"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.rycbar.club/2020/03/13/python-opcode/&is_video=false&description=python_opcode"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=python_opcode&body=Check out this article: http://blog.rycbar.club/2020/03/13/python-opcode/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://blog.rycbar.club/2020/03/13/python-opcode/&name=python_opcode&description=&lt;p&gt;把python的opcode在这里记录，便于查表&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://blog.rycbar.club/2020/03/13/python-opcode/&t=python_opcode"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Opcode"><span class="toc-number">1.</span> <span class="toc-text">Opcode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bytecode-Instructions"><span class="toc-number">2.</span> <span class="toc-text">Bytecode Instructions</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        python_opcode
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Aorui Zhang</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-03-13T03:58:03.000Z" itemprop="datePublished">2020-03-13</time>
        
        (Updated: <time datetime="2020-03-24T02:50:09.392Z" itemprop="dateModified">2020-03-24</time>)
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/python/">python</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/opcode/" rel="tag">opcode</a>, <a class="tag-link-link" href="/tags/python/" rel="tag">python</a>, <a class="tag-link-link" href="/tags/%E6%9F%A5%E8%A1%A8/" rel="tag">查表</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>把python的opcode在这里记录，便于查表</p>
<span id="more"></span>

<h4 id="Opcode"><a href="#Opcode" class="headerlink" title="Opcode"></a>Opcode</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Auto-generated by Tools/scripts/generate_opcode_h.py from Lib/opcode.py */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> Py_OPCODE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Py_OPCODE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Instruction opcodes for compiled code */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POP_TOP                   1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROT_TWO                   2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROT_THREE                 3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DUP_TOP                   4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DUP_TOP_TWO               5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ROT_FOUR                  6</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOP                       9</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNARY_POSITIVE           10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNARY_NEGATIVE           11</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNARY_NOT                12</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNARY_INVERT             15</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_MATRIX_MULTIPLY   16</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_MATRIX_MULTIPLY  17</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_POWER             19</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_MULTIPLY          20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_MODULO            22</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_ADD               23</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_SUBTRACT          24</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_SUBSCR            25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_FLOOR_DIVIDE      26</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_TRUE_DIVIDE       27</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_FLOOR_DIVIDE     28</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_TRUE_DIVIDE      29</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RERAISE                  48</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WITH_EXCEPT_START        49</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_AITER                50</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_ANEXT                51</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BEFORE_ASYNC_WITH        52</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> END_ASYNC_FOR            54</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_ADD              55</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_SUBTRACT         56</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_MULTIPLY         57</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_MODULO           59</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_SUBSCR             60</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_SUBSCR            61</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_LSHIFT            62</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_RSHIFT            63</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_AND               64</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_XOR               65</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BINARY_OR                66</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_POWER            67</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_ITER                 68</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_YIELD_FROM_ITER      69</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT_EXPR               70</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_BUILD_CLASS         71</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YIELD_FROM               72</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_AWAITABLE            73</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_ASSERTION_ERROR     74</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_LSHIFT           75</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_RSHIFT           76</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_AND              77</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_XOR              78</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPLACE_OR               79</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LIST_TO_TUPLE            82</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RETURN_VALUE             83</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMPORT_STAR              84</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SETUP_ANNOTATIONS        85</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YIELD_VALUE              86</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POP_BLOCK                87</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POP_EXCEPT               89</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HAVE_ARGUMENT            90</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_NAME               90</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_NAME              91</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNPACK_SEQUENCE          92</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FOR_ITER                 93</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UNPACK_EX                94</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_ATTR               95</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_ATTR              96</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_GLOBAL             97</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_GLOBAL            98</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_CONST              100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_NAME               101</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_TUPLE             102</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_LIST              103</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_SET               104</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_MAP               105</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_ATTR               106</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COMPARE_OP              107</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMPORT_NAME             108</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMPORT_FROM             109</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JUMP_FORWARD            110</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JUMP_IF_FALSE_OR_POP    111</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JUMP_IF_TRUE_OR_POP     112</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JUMP_ABSOLUTE           113</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POP_JUMP_IF_FALSE       114</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POP_JUMP_IF_TRUE        115</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_GLOBAL             116</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IS_OP                   117</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONTAINS_OP             118</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> JUMP_IF_NOT_EXC_MATCH   121</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SETUP_FINALLY           122</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_FAST               124</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_FAST              125</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_FAST             126</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RAISE_VARARGS           130</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CALL_FUNCTION           131</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAKE_FUNCTION           132</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_SLICE             133</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_CLOSURE            135</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_DEREF              136</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STORE_DEREF             137</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DELETE_DEREF            138</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CALL_FUNCTION_KW        141</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CALL_FUNCTION_EX        142</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SETUP_WITH              143</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXTENDED_ARG            144</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LIST_APPEND             145</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SET_ADD                 146</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAP_ADD                 147</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_CLASSDEREF         148</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SETUP_ASYNC_WITH        154</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FORMAT_VALUE            155</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_CONST_KEY_MAP     156</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUILD_STRING            157</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOAD_METHOD             160</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CALL_METHOD             161</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LIST_EXTEND             162</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SET_UPDATE              163</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DICT_MERGE              164</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DICT_UPDATE             165</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* EXCEPT_HANDLER is a special, implicit block type which is created when</span></span><br><span class="line"><span class="comment">   entering an except handler. It is not an opcode but we define it here</span></span><br><span class="line"><span class="comment">   as we want it to be available to both frameobject.c and ceval.c, while</span></span><br><span class="line"><span class="comment">   remaining private.*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXCEPT_HANDLER 257</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HAS_ARG(op) ((op) &gt;= HAVE_ARGUMENT)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* !Py_OPCODE_H */</span></span></span><br></pre></td></tr></table></figure>

<p>对应指令的含义如下：</p>
<h4 id="Bytecode-Instructions"><a href="#Bytecode-Instructions" class="headerlink" title="Bytecode Instructions"></a>Bytecode Instructions</h4><p>The Python compiler currently generates the following bytecode instructions.</p>
<ul>
<li><p><code>STOP_CODE</code>()</p>
<p>Indicates end-of-code to the compiler, not used by the interpreter.</p>
</li>
<li><p><code>NOP</code>()</p>
<p>Do nothing code. Used as a placeholder by the bytecode optimizer.</p>
</li>
<li><p><code>POP_TOP</code>()</p>
<p>Removes the top-of-stack (TOS) item.</p>
</li>
<li><p><code>ROT_TWO</code>()</p>
<p>Swaps the two top-most stack items.</p>
</li>
<li><p><code>ROT_THREE</code>()</p>
<p>Lifts second and third stack item one position up, moves top down to position three.</p>
</li>
<li><p><code>ROT_FOUR</code>()</p>
<p>Lifts second, third and forth stack item one position up, moves top down to position four.</p>
</li>
<li><p><code>DUP_TOP</code>()</p>
<p>Duplicates the reference on top of the stack.</p>
</li>
</ul>
<p>Unary Operations take the top of the stack, apply the operation, and push the result back on the stack.</p>
<ul>
<li><p><code>UNARY_POSITIVE</code>()</p>
<p>Implements <code>TOS = +TOS</code>.</p>
</li>
<li><p><code>UNARY_NEGATIVE</code>()</p>
<p>Implements <code>TOS = -TOS</code>.</p>
</li>
<li><p><code>UNARY_NOT</code>()</p>
<p>Implements <code>TOS = not TOS</code>.</p>
</li>
<li><p><code>UNARY_CONVERT</code>()</p>
<p>Implements <code>TOS = </code>TOS``.</p>
</li>
<li><p><code>UNARY_INVERT</code>()</p>
<p>Implements <code>TOS = ~TOS</code>.</p>
</li>
<li><p><code>GET_ITER</code>()</p>
<p>Implements <code>TOS = iter(TOS)</code>.</p>
</li>
</ul>
<p>Binary operations remove the top of the stack (TOS) and the second top-most stack item (TOS1) from the stack. They perform the operation, and put the result back on the stack.</p>
<ul>
<li><p><code>BINARY_POWER</code>()</p>
<p>Implements <code>TOS = TOS1 ** TOS</code>.</p>
</li>
<li><p><code>BINARY_MULTIPLY</code>()</p>
<p>Implements <code>TOS = TOS1 * TOS</code>.</p>
</li>
<li><p><code>BINARY_DIVIDE</code>()</p>
<p>Implements <code>TOS = TOS1 / TOS</code> when <code>from __future__ import division</code> is not in effect.</p>
</li>
<li><p><code>BINARY_FLOOR_DIVIDE</code>()</p>
<p>Implements <code>TOS = TOS1 // TOS</code>.</p>
</li>
<li><p><code>BINARY_TRUE_DIVIDE</code>()</p>
<p>Implements <code>TOS = TOS1 / TOS</code> when <code>from __future__ import division</code> is in effect.</p>
</li>
<li><p><code>BINARY_MODULO</code>()</p>
<p>Implements <code>TOS = TOS1 % TOS</code>.</p>
</li>
<li><p><code>BINARY_ADD</code>()</p>
<p>Implements <code>TOS = TOS1 + TOS</code>.</p>
</li>
<li><p><code>BINARY_SUBTRACT</code>()</p>
<p>Implements <code>TOS = TOS1 - TOS</code>.</p>
</li>
<li><p><code>BINARY_SUBSCR</code>()</p>
<p>Implements <code>TOS = TOS1[TOS]</code>.</p>
</li>
<li><p><code>BINARY_LSHIFT</code>()</p>
<p>Implements <code>TOS = TOS1 &lt;&lt; TOS</code>.</p>
</li>
<li><p><code>BINARY_RSHIFT</code>()</p>
<p>Implements <code>TOS = TOS1 &gt;&gt; TOS</code>.</p>
</li>
<li><p><code>BINARY_AND</code>()</p>
<p>Implements <code>TOS = TOS1 &amp; TOS</code>.</p>
</li>
<li><p><code>BINARY_XOR</code>()</p>
<p>Implements <code>TOS = TOS1 ^ TOS</code>.</p>
</li>
<li><p><code>BINARY_OR</code>()</p>
<p>Implements <code>TOS = TOS1 | TOS</code>.</p>
</li>
</ul>
<p>In-place operations are like binary operations, in that they remove TOS and TOS1, and push the result back on the stack, but the operation is done in-place when TOS1 supports it, and the resulting TOS may be (but does not have to be) the original TOS1.</p>
<ul>
<li><p><code>INPLACE_POWER</code>()</p>
<p>Implements in-place <code>TOS = TOS1 ** TOS</code>.</p>
</li>
<li><p><code>INPLACE_MULTIPLY</code>()</p>
<p>Implements in-place <code>TOS = TOS1 * TOS</code>.</p>
</li>
<li><p><code>INPLACE_DIVIDE</code>()</p>
<p>Implements in-place <code>TOS = TOS1 / TOS</code> when <code>from __future__ import division</code> is not in effect.</p>
</li>
<li><p><code>INPLACE_FLOOR_DIVIDE</code>()</p>
<p>Implements in-place <code>TOS = TOS1 // TOS</code>.</p>
</li>
<li><p><code>INPLACE_TRUE_DIVIDE</code>()</p>
<p>Implements in-place <code>TOS = TOS1 / TOS</code> when <code>from __future__ import division</code> is in effect.</p>
</li>
<li><p><code>INPLACE_MODULO</code>()</p>
<p>Implements in-place <code>TOS = TOS1 % TOS</code>.</p>
</li>
<li><p><code>INPLACE_ADD</code>()</p>
<p>Implements in-place <code>TOS = TOS1 + TOS</code>.</p>
</li>
<li><p><code>INPLACE_SUBTRACT</code>()</p>
<p>Implements in-place <code>TOS = TOS1 - TOS</code>.</p>
</li>
<li><p><code>INPLACE_LSHIFT</code>()</p>
<p>Implements in-place <code>TOS = TOS1 &lt;&lt; TOS</code>.</p>
</li>
<li><p><code>INPLACE_RSHIFT</code>()</p>
<p>Implements in-place <code>TOS = TOS1 &gt;&gt; TOS</code>.</p>
</li>
<li><p><code>INPLACE_AND</code>()</p>
<p>Implements in-place <code>TOS = TOS1 &amp; TOS</code>.</p>
</li>
<li><p><code>INPLACE_XOR</code>()</p>
<p>Implements in-place <code>TOS = TOS1 ^ TOS</code>.</p>
</li>
<li><p><code>INPLACE_OR</code>()</p>
<p>Implements in-place <code>TOS = TOS1 | TOS</code>.</p>
</li>
</ul>
<p>The slice opcodes take up to three parameters.</p>
<ul>
<li><p><code>SLICE+0</code>()</p>
<p>Implements <code>TOS = TOS[:]</code>.</p>
</li>
<li><p><code>SLICE+1</code>()</p>
<p>Implements <code>TOS = TOS1[TOS:]</code>.</p>
</li>
<li><p><code>SLICE+2</code>()</p>
<p>Implements <code>TOS = TOS1[:TOS]</code>.</p>
</li>
<li><p><code>SLICE+3</code>()</p>
<p>Implements <code>TOS = TOS2[TOS1:TOS]</code>.</p>
</li>
</ul>
<p>Slice assignment needs even an additional parameter. As any statement, they put nothing on the stack.</p>
<ul>
<li><p><code>STORE_SLICE+0</code>()</p>
<p>Implements <code>TOS[:] = TOS1</code>.</p>
</li>
<li><p><code>STORE_SLICE+1</code>()</p>
<p>Implements <code>TOS1[TOS:] = TOS2</code>.</p>
</li>
<li><p><code>STORE_SLICE+2</code>()</p>
<p>Implements <code>TOS1[:TOS] = TOS2</code>.</p>
</li>
<li><p><code>STORE_SLICE+3</code>()</p>
<p>Implements <code>TOS2[TOS1:TOS] = TOS3</code>.</p>
</li>
<li><p><code>DELETE_SLICE+0</code>()</p>
<p>Implements <code>del TOS[:]</code>.</p>
</li>
<li><p><code>DELETE_SLICE+1</code>()</p>
<p>Implements <code>del TOS1[TOS:]</code>.</p>
</li>
<li><p><code>DELETE_SLICE+2</code>()</p>
<p>Implements <code>del TOS1[:TOS]</code>.</p>
</li>
<li><p><code>DELETE_SLICE+3</code>()</p>
<p>Implements <code>del TOS2[TOS1:TOS]</code>.</p>
</li>
<li><p><code>STORE_SUBSCR</code>()</p>
<p>Implements <code>TOS1[TOS] = TOS2</code>.</p>
</li>
<li><p><code>DELETE_SUBSCR</code>()</p>
<p>Implements <code>del TOS1[TOS]</code>.</p>
</li>
</ul>
<p>Miscellaneous opcodes.</p>
<ul>
<li><p><code>PRINT_EXPR</code>()</p>
<p>Implements the expression statement for the interactive mode. TOS is removed from the stack and printed. In non-interactive mode, an expression statement is terminated with <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-POP_TOP"><code>POP_TOP</code></a>.</p>
</li>
<li><p><code>PRINT_ITEM</code>()</p>
<p>Prints TOS to the file-like object bound to <code>sys.stdout</code>. There is one such instruction for each item in the <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/simple_stmts.html#print"><code>print</code></a> statement.</p>
</li>
<li><p><code>PRINT_ITEM_TO</code>()</p>
<p>Like <code>PRINT_ITEM</code>, but prints the item second from TOS to the file-like object at TOS. This is used by the extended print statement.</p>
</li>
<li><p><code>PRINT_NEWLINE</code>()</p>
<p>Prints a new line on <code>sys.stdout</code>. This is generated as the last operation of a <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/simple_stmts.html#print"><code>print</code></a> statement, unless the statement ends with a comma.</p>
</li>
<li><p><code>PRINT_NEWLINE_TO</code>()</p>
<p>Like <code>PRINT_NEWLINE</code>, but prints the new line on the file-like object on the TOS. This is used by the extended print statement.</p>
</li>
<li><p><code>BREAK_LOOP</code>()</p>
<p>Terminates a loop due to a <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/simple_stmts.html#break"><code>break</code></a> statement.</p>
</li>
<li><p><code>CONTINUE_LOOP</code>(<em>target</em>)</p>
<p>Continues a loop due to a <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/simple_stmts.html#continue"><code>continue</code></a> statement. <em>target</em> is the address to jump to (which should be a <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-FOR_ITER"><code>FOR_ITER</code></a> instruction).</p>
</li>
<li><p><code>LIST_APPEND</code>(<em>i</em>)</p>
<p>Calls <code>list.append(TOS[-i], TOS)</code>. Used to implement list comprehensions. While the appended value is popped off, the list object remains on the stack so that it is available for further iterations of the loop.</p>
</li>
<li><p><code>LOAD_LOCALS</code>()</p>
<p>Pushes a reference to the locals of the current scope on the stack. This is used in the code for a class definition: After the class body is evaluated, the locals are passed to the class definition.</p>
</li>
<li><p><code>RETURN_VALUE</code>()</p>
<p>Returns with TOS to the caller of the function.</p>
</li>
<li><p><code>YIELD_VALUE</code>()</p>
<p>Pops <code>TOS</code> and yields it from a <a target="_blank" rel="noopener" href="https://docs.python.org/2/glossary.html#term-generator">generator</a>.</p>
</li>
<li><p><code>IMPORT_STAR</code>()</p>
<p>Loads all symbols not starting with <code>&#39;_&#39;</code> directly from the module TOS to the local namespace. The module is popped after loading all names. This opcode implements <code>from module import *</code>.</p>
</li>
<li><p><code>EXEC_STMT</code>()</p>
<p>Implements <code>exec TOS2,TOS1,TOS</code>. The compiler fills missing optional parameters with <code>None</code>.</p>
</li>
<li><p><code>POP_BLOCK</code>()</p>
<p>Removes one block from the block stack. Per frame, there is a stack of blocks, denoting nested loops, try statements, and such.</p>
</li>
<li><p><code>END_FINALLY</code>()</p>
<p>Terminates a <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/compound_stmts.html#finally"><code>finally</code></a> clause. The interpreter recalls whether the exception has to be re-raised, or whether the function returns, and continues with the outer-next block.</p>
</li>
<li><p><code>BUILD_CLASS</code>()</p>
<p>Creates a new class object. TOS is the methods dictionary, TOS1 the tuple of the names of the base classes, and TOS2 the class name.</p>
</li>
<li><p><code>SETUP_WITH</code>(<em>delta</em>)</p>
<p>This opcode performs several operations before a with block starts. First, it loads <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/datamodel.html#object.__exit__"><code>__exit__()</code></a> from the context manager and pushes it onto the stack for later use by <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-WITH_CLEANUP"><code>WITH_CLEANUP</code></a>. Then, <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/datamodel.html#object.__enter__"><code>__enter__()</code></a> is called, and a finally block pointing to <em>delta</em> is pushed. Finally, the result of calling the enter method is pushed onto the stack. The next opcode will either ignore it (<a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-POP_TOP"><code>POP_TOP</code></a>), or store it in (a) variable(s) (<a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-STORE_FAST"><code>STORE_FAST</code></a>, <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-STORE_NAME"><code>STORE_NAME</code></a>, or <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-UNPACK_SEQUENCE"><code>UNPACK_SEQUENCE</code></a>).</p>
</li>
<li><p><code>WITH_CLEANUP</code>()</p>
<p>Cleans up the stack when a <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/compound_stmts.html#with"><code>with</code></a> statement block exits. On top of the stack are 1–3 values indicating how/why the finally clause was entered:TOP = <code>None</code>(TOP, SECOND) = (<code>WHY_&#123;RETURN,CONTINUE&#125;</code>), retvalTOP = <code>WHY_*</code>; no retval below it(TOP, SECOND, THIRD) = exc_info()Under them is EXIT, the context manager’s <a target="_blank" rel="noopener" href="https://docs.python.org/2/reference/datamodel.html#object.__exit__"><code>__exit__()</code></a> bound method.In the last case, <code>EXIT(TOP, SECOND, THIRD)</code> is called, otherwise <code>EXIT(None, None, None)</code>.EXIT is removed from the stack, leaving the values above it in the same order. In addition, if the stack represents an exception, <em>and</em> the function call returns a ‘true’ value, this information is “zapped”, to prevent <code>END_FINALLY</code> from re-raising the exception. (But non-local gotos should still be resumed.)</p>
</li>
</ul>
<p>All of the following opcodes expect arguments. An argument is two bytes, with the more significant byte last.</p>
<ul>
<li><p><code>STORE_NAME</code>(<em>namei</em>)</p>
<p>Implements <code>name = TOS</code>. <em>namei</em> is the index of <em>name</em> in the attribute <code>co_names</code> of the code object. The compiler tries to use <code>STORE_FAST</code> or <code>STORE_GLOBAL</code> if possible.</p>
</li>
<li><p><code>DELETE_NAME</code>(<em>namei</em>)</p>
<p>Implements <code>del name</code>, where <em>namei</em> is the index into <code>co_names</code> attribute of the code object.</p>
</li>
<li><p><code>UNPACK_SEQUENCE</code>(<em>count</em>)</p>
<p>Unpacks TOS into <em>count</em> individual values, which are put onto the stack right-to-left.</p>
</li>
<li><p><code>DUP_TOPX</code>(<em>count</em>)</p>
<p>Duplicate <em>count</em> items, keeping them in the same order. Due to implementation limits, <em>count</em> should be between 1 and 5 inclusive.</p>
</li>
<li><p><code>STORE_ATTR</code>(<em>namei</em>)</p>
<p>Implements <code>TOS.name = TOS1</code>, where <em>namei</em> is the index of name in <code>co_names</code>.</p>
</li>
<li><p><code>DELETE_ATTR</code>(<em>namei</em>)</p>
<p>Implements <code>del TOS.name</code>, using <em>namei</em> as index into <code>co_names</code>.</p>
</li>
<li><p><code>STORE_GLOBAL</code>(<em>namei</em>)</p>
<p>Works as <code>STORE_NAME</code>, but stores the name as a global.</p>
</li>
<li><p><code>DELETE_GLOBAL</code>(<em>namei</em>)</p>
<p>Works as <code>DELETE_NAME</code>, but deletes a global name.</p>
</li>
<li><p><code>LOAD_CONST</code>(<em>consti</em>)</p>
<p>Pushes <code>co_consts[consti]</code> onto the stack.</p>
</li>
<li><p><code>LOAD_NAME</code>(<em>namei</em>)</p>
<p>Pushes the value associated with <code>co_names[namei]</code> onto the stack.</p>
</li>
<li><p><code>BUILD_TUPLE</code>(<em>count</em>)</p>
<p>Creates a tuple consuming <em>count</em> items from the stack, and pushes the resulting tuple onto the stack.</p>
</li>
<li><p><code>BUILD_LIST</code>(<em>count</em>)</p>
<p>Works as <code>BUILD_TUPLE</code>, but creates a list.</p>
</li>
<li><p><code>BUILD_SET</code>(<em>count</em>)</p>
<p>Works as <code>BUILD_TUPLE</code>, but creates a set.<em>New in version 2.7.</em></p>
</li>
<li><p><code>BUILD_MAP</code>(<em>count</em>)</p>
<p>Pushes a new dictionary object onto the stack. The dictionary is pre-sized to hold <em>count</em> entries.</p>
</li>
<li><p><code>LOAD_ATTR</code>(<em>namei</em>)</p>
<p>Replaces TOS with <code>getattr(TOS, co_names[namei])</code>.</p>
</li>
<li><p><code>COMPARE_OP</code>(<em>opname</em>)</p>
<p>Performs a Boolean operation. The operation name can be found in <code>cmp_op[opname]</code>.</p>
</li>
<li><p><code>IMPORT_NAME</code>(<em>namei</em>)</p>
<p>Imports the module <code>co_names[namei]</code>. TOS and TOS1 are popped and provide the <em>fromlist</em> and <em>level</em> arguments of <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/functions.html#__import__"><code>__import__()</code></a>. The module object is pushed onto the stack. The current namespace is not affected: for a proper import statement, a subsequent <code>STORE_FAST</code> instruction modifies the namespace.</p>
</li>
<li><p><code>IMPORT_FROM</code>(<em>namei</em>)</p>
<p>Loads the attribute <code>co_names[namei]</code> from the module found in TOS. The resulting object is pushed onto the stack, to be subsequently stored by a <code>STORE_FAST</code> instruction.</p>
</li>
<li><p><code>JUMP_FORWARD</code>(<em>delta</em>)</p>
<p>Increments bytecode counter by <em>delta</em>.</p>
</li>
<li><p><code>POP_JUMP_IF_TRUE</code>(<em>target</em>)</p>
<p>If TOS is true, sets the bytecode counter to <em>target</em>. TOS is popped.</p>
</li>
<li><p><code>POP_JUMP_IF_FALSE</code>(<em>target</em>)</p>
<p>If TOS is false, sets the bytecode counter to <em>target</em>. TOS is popped.</p>
</li>
<li><p><code>JUMP_IF_TRUE_OR_POP</code>(<em>target</em>)</p>
<p>If TOS is true, sets the bytecode counter to <em>target</em> and leaves TOS on the stack. Otherwise (TOS is false), TOS is popped.</p>
</li>
<li><p><code>JUMP_IF_FALSE_OR_POP</code>(<em>target</em>)</p>
<p>If TOS is false, sets the bytecode counter to <em>target</em> and leaves TOS on the stack. Otherwise (TOS is true), TOS is popped.</p>
</li>
<li><p><code>JUMP_ABSOLUTE</code>(<em>target</em>)</p>
<p>Set bytecode counter to <em>target</em>.</p>
</li>
<li><p><code>FOR_ITER</code>(<em>delta</em>)</p>
<p><code>TOS</code> is an <a target="_blank" rel="noopener" href="https://docs.python.org/2/glossary.html#term-iterator">iterator</a>. Call its <code>next()</code> method. If this yields a new value, push it on the stack (leaving the iterator below it). If the iterator indicates it is exhausted <code>TOS</code> is popped, and the bytecode counter is incremented by <em>delta</em>.</p>
</li>
<li><p><code>LOAD_GLOBAL</code>(<em>namei</em>)</p>
<p>Loads the global named <code>co_names[namei]</code> onto the stack.</p>
</li>
<li><p><code>SETUP_LOOP</code>(<em>delta</em>)</p>
<p>Pushes a block for a loop onto the block stack. The block spans from the current instruction with a size of <em>delta</em> bytes.</p>
</li>
<li><p><code>SETUP_EXCEPT</code>(<em>delta</em>)</p>
<p>Pushes a try block from a try-except clause onto the block stack. <em>delta</em> points to the first except block.</p>
</li>
<li><p><code>SETUP_FINALLY</code>(<em>delta</em>)</p>
<p>Pushes a try block from a try-except clause onto the block stack. <em>delta</em> points to the finally block.</p>
</li>
<li><p><code>STORE_MAP</code>()</p>
<p>Store a key and value pair in a dictionary. Pops the key and value while leaving the dictionary on the stack.</p>
</li>
<li><p><code>LOAD_FAST</code>(<em>var_num</em>)</p>
<p>Pushes a reference to the local <code>co_varnames[var_num]</code> onto the stack.</p>
</li>
<li><p><code>STORE_FAST</code>(<em>var_num</em>)</p>
<p>Stores TOS into the local <code>co_varnames[var_num]</code>.</p>
</li>
<li><p><code>DELETE_FAST</code>(<em>var_num</em>)</p>
<p>Deletes local <code>co_varnames[var_num]</code>.</p>
</li>
<li><p><code>LOAD_CLOSURE</code>(<em>i</em>)</p>
<p>Pushes a reference to the cell contained in slot <em>i</em> of the cell and free variable storage. The name of the variable is <code>co_cellvars[i]</code> if <em>i</em> is less than the length of <em>co_cellvars</em>. Otherwise it is <code>co_freevars[i - len(co_cellvars)]</code>.</p>
</li>
<li><p><code>LOAD_DEREF</code>(<em>i</em>)</p>
<p>Loads the cell contained in slot <em>i</em> of the cell and free variable storage. Pushes a reference to the object the cell contains on the stack.</p>
</li>
<li><p><code>STORE_DEREF</code>(<em>i</em>)</p>
<p>Stores TOS into the cell contained in slot <em>i</em> of the cell and free variable storage.</p>
</li>
<li><p><code>SET_LINENO</code>(<em>lineno</em>)</p>
<p>This opcode is obsolete.</p>
</li>
<li><p><code>RAISE_VARARGS</code>(<em>argc</em>)</p>
<p>Raises an exception. <em>argc</em> indicates the number of arguments to the raise statement, ranging from 0 to 3. The handler will find the traceback as TOS2, the parameter as TOS1, and the exception as TOS.</p>
</li>
<li><p><code>CALL_FUNCTION</code>(<em>argc</em>)</p>
<p>Calls a callable object. The low byte of <em>argc</em> indicates the number of positional arguments, the high byte the number of keyword arguments. The stack contains keyword arguments on top (if any), then the positional arguments below that (if any), then the callable object to call below that. Each keyword argument is represented with two values on the stack: the argument’s name, and its value, with the argument’s value above the name on the stack. The positional arguments are pushed in the order that they are passed in to the callable object, with the right-most positional argument on top. <code>CALL_FUNCTION</code> pops all arguments and the callable object off the stack, calls the callable object with those arguments, and pushes the return value returned by the callable object.</p>
</li>
<li><p><code>MAKE_FUNCTION</code>(<em>argc</em>)</p>
<p>Pushes a new function object on the stack. TOS is the code associated with the function. The function object is defined to have <em>argc</em> default parameters, which are found below TOS.</p>
</li>
<li><p><code>MAKE_CLOSURE</code>(<em>argc</em>)</p>
<p>Creates a new function object, sets its <em>func_closure</em> slot, and pushes it on the stack. TOS is the code associated with the function, TOS1 the tuple containing cells for the closure’s free variables. The function also has <em>argc</em> default parameters, which are found below the cells.</p>
</li>
<li><p><code>BUILD_SLICE</code>(<em>argc</em>)</p>
<p>Pushes a slice object on the stack. <em>argc</em> must be 2 or 3. If it is 2, <code>slice(TOS1, TOS)</code> is pushed; if it is 3, <code>slice(TOS2, TOS1, TOS)</code> is pushed. See the <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/functions.html#slice"><code>slice()</code></a> built-in function for more information.</p>
</li>
<li><p><code>EXTENDED_ARG</code>(<em>ext</em>)</p>
<p>Prefixes any opcode which has an argument too big to fit into the default two bytes. <em>ext</em> holds two additional bytes which, taken together with the subsequent opcode’s argument, comprise a four-byte argument, <em>ext</em> being the two most-significant bytes.</p>
</li>
<li><p><code>CALL_FUNCTION_VAR</code>(<em>argc</em>)</p>
<p>Calls a callable object, similarly to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. <em>argc</em> represents the number of keyword and positional arguments, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. The top of the stack contains an iterable object containing additional positional arguments. Below that are keyword arguments (if any), positional arguments (if any) and a callable object, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. Before the callable object is called, the iterable object is “unpacked” and its contents are appended to the positional arguments passed in. The iterable object is ignored when computing the value of <code>argc</code>.</p>
</li>
<li><p><code>CALL_FUNCTION_KW</code>(<em>argc</em>)</p>
<p>Calls a callable object, similarly to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. <em>argc</em> represents the number of keyword and positional arguments, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. The top of the stack contains a mapping object containing additional keyword arguments. Below that are keyword arguments (if any), positional arguments (if any) and a callable object, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. Before the callable is called, the mapping object at the top of the stack is “unpacked” and its contents are appended to the keyword arguments passed in. The mapping object at the top of the stack is ignored when computing the value of <code>argc</code>.</p>
</li>
<li><p><code>CALL_FUNCTION_VAR_KW</code>(<em>argc</em>)</p>
<p>Calls a callable object, similarly to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_VAR"><code>CALL_FUNCTION_VAR</code></a> and <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_KW"><code>CALL_FUNCTION_KW</code></a>. <em>argc</em> represents the number of keyword and positional arguments, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. The top of the stack contains a mapping object, as per <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_KW"><code>CALL_FUNCTION_KW</code></a>. Below that is an iterable object, as per <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_VAR"><code>CALL_FUNCTION_VAR</code></a>. Below that are keyword arguments (if any), positional arguments (if any) and a callable object, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION"><code>CALL_FUNCTION</code></a>. Before the callable is called, the mapping object and iterable object are each “unpacked” and their contents passed in as keyword and positional arguments respectively, identically to <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_VAR"><code>CALL_FUNCTION_VAR</code></a> and <a target="_blank" rel="noopener" href="https://docs.python.org/2/library/dis.html#opcode-CALL_FUNCTION_KW"><code>CALL_FUNCTION_KW</code></a>. The mapping object and iterable object are both ignored when computing the value of <code>argc</code>.</p>
</li>
<li><p><code>HAVE_ARGUMENT</code>()</p>
<p>This is not really an opcode. It identifies the dividing line between opcodes which don’t take arguments <code>&lt; HAVE_ARGUMENT</code> and those which do <code>&gt;= HAVE_ARGUMENT</code>.</p>
</li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Opcode"><span class="toc-number">1.</span> <span class="toc-text">Opcode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bytecode-Instructions"><span class="toc-number">2.</span> <span class="toc-text">Bytecode Instructions</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://blog.rycbar.club/2020/03/13/python-opcode/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://blog.rycbar.club/2020/03/13/python-opcode/&text=python_opcode"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.rycbar.club/2020/03/13/python-opcode/&is_video=false&description=python_opcode"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=python_opcode&body=Check out this article: http://blog.rycbar.club/2020/03/13/python-opcode/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://blog.rycbar.club/2020/03/13/python-opcode/&title=python_opcode"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://blog.rycbar.club/2020/03/13/python-opcode/&name=python_opcode&description=&lt;p&gt;把python的opcode在这里记录，便于查表&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://blog.rycbar.club/2020/03/13/python-opcode/&t=python_opcode"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2018-2021
    Aorui Zhang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/atom.xml">RSS</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128484503-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-128484503-1');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'rrblog-2';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->

</body>
</html>
